<div class="modal fade"
     tabindex="-1"
     [class.show]="show"
     [style.display]="show ? 'block' : 'none'">

  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Neuen Mitarbeiter anlegen</h5>
        <button class="btn-close" (click)="close()"></button>
      </div>

      <div class="modal-body">
        <h5>Kontaktinformationen:</h5>
        <div class="row mb-3">
          <div class="col">
            <input class="form-control"
                   placeholder="Vorname"
                   [(ngModel)]="employee.firstName">
          </div>
          <div class="col">
            <input class="form-control"
                   placeholder="Nachname"
                   [(ngModel)]="employee.lastName">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <input class="form-control"
                   placeholder="Telefon"
                   [(ngModel)]="employee.phone">
          </div>
        </div>

        <h5>Adresse:</h5>
        <div class="row mb-3">
          <div class="col-4">
            <input class="form-control"
                   placeholder="Straße"
                   [(ngModel)]="employee.street">
          </div>
          <div class="col-2">
            <input class="form-control"
                   placeholder="PLZ"
                   [(ngModel)]="employee.postcode">
          </div>
          <div class="col-6">
            <input class="form-control"
                   placeholder="Ort"
                   [(ngModel)]="employee.city">
          </div>
        </div>

        <h5>Qualifikationen:</h5>
        <div class="row mb-3">
          <div class="col">
            <div class="qualification-selector border rounded p-3"
                 style="max-height: 300px; overflow-y: auto;">
              <div *ngIf="availableQualifications.length === 0" class="text-muted">
                Lade Qualifikationen...
              </div>
              <div *ngFor="let qual of availableQualifications" class="form-check mb-2">
                <input
                  type="checkbox"
                  class="form-check-input"
                  [id]="'qual-' + qual.id"
                  [checked]="isSelected(qual.id!)"
                  (change)="toggleQualification(qual.id!)">
                <label class="form-check-label" [for]="'qual-' + qual.id">
                  {{qual.skill}}
                </label>
              </div>
            </div>
            <small class="text-muted" *ngIf="selectedQualificationIds.length > 0">
              {{selectedQualificationIds.length}} Qualifikation(en) ausgewählt
            </small>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" (click)="close()">
          Abbrechen
        </button>
        <button class="btn btn-success" (click)="save()">
          Speichern
        </button>
      </div>

    </div>
  </div>
</div>

<div class="modal-backdrop fade show" *ngIf="show"></div>
